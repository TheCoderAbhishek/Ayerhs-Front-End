<div
  class="min-h-screen flex items-center justify-center bg-login-bg bg-cover bg-center"
>
  <div
    class="backdrop-filter backdrop-blur-lg bg-white bg-opacity-10 border border-white border-opacity-30 rounded-2xl p-8 shadow-lg w-full max-w-sm"
  >
    <h2 class="text-3xl font-bold mb-6 text-center text-white">Register</h2>
    <form #registerForm="ngForm" (ngSubmit)="onRegister(registerForm)">
      <div class="mb-4">
        <label class="block text-white text-sm mb-2" for="name">Name</label>
        <input
          class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
          id="name"
          type="text"
          placeholder="Enter your name"
          [(ngModel)]="registerFormDto.ClientName"
          name="ClientName"
          #clientName="ngModel"
          required
          maxlength="100"
          autocomplete="name"
        />
        <div
          *ngIf="
            clientName.invalid &&
            (clientName.dirty || clientName.touched || registerForm.submitted)
          "
          class="text-red-500 text-xs mt-1"
        >
          <div *ngIf="clientName.errors?.['required']">Name is required.</div>
          <div *ngIf="clientName.errors?.['maxlength']">
            Name cannot exceed 100 characters.
          </div>
        </div>
      </div>
      <div class="mb-4">
        <label class="block text-white text-sm mb-2" for="username"
          >Username</label
        >
        <input
          class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
          autocomplete="username"
          id="username"
          type="text"
          placeholder="Enter your username"
          [(ngModel)]="registerFormDto.ClientUsername"
          name="ClientUsername"
          #clientUsername="ngModel"
          required
          maxlength="20"
        />
        <div
          *ngIf="
            clientUsername.invalid &&
            (clientUsername.dirty ||
              clientUsername.touched ||
              registerForm.submitted)
          "
          class="text-red-500 text-xs mt-1"
        >
          <div *ngIf="clientUsername.errors?.['required']">
            Username is required.
          </div>
          <div *ngIf="clientUsername.errors?.['maxlength']">
            Username cannot exceed 20 characters.
          </div>
        </div>
      </div>
      <div class="mb-4">
        <label class="block text-white text-sm mb-2" for="email">Email</label>
        <input
          class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
          id="email"
          type="email"
          placeholder="Enter your email"
          [(ngModel)]="registerFormDto.ClientEmail"
          name="ClientEmail"
          #clientEmail="ngModel"
          required
          email
          autocomplete="clientEmail"
        />
        <div
          *ngIf="
            clientEmail.invalid &&
            (clientEmail.dirty || clientEmail.touched || registerForm.submitted)
          "
          class="text-red-500 text-xs mt-1"
        >
          <div *ngIf="clientEmail.errors?.['required']">Email is required.</div>
          <div *ngIf="clientEmail.errors?.['email']">
            Enter a valid email address.
          </div>
        </div>
      </div>
      <div class="mb-4 relative">
        <label class="block text-white text-sm mb-2" for="password"
          >Password</label
        >
        <input
          class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"
          id="password"
          [type]="passwordFieldType"
          placeholder="Enter your password"
          [(ngModel)]="registerFormDto.ClientPassword"
          name="ClientPassword"
          #clientPassword="ngModel"
          required
          minlength="8"
          maxlength="50"
          pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,50}$"
        />
        <span
          class="absolute right-3 top-9 text-gray-600 cursor-pointer"
          (click)="togglePasswordVisibility()"
        >
          <i
            [class]="
              passwordFieldType === 'password'
                ? 'fas fa-eye'
                : 'fas fa-eye-slash'
            "
          ></i>
        </span>
        <div
          *ngIf="
            clientPassword.invalid &&
            (clientPassword.dirty ||
              clientPassword.touched ||
              registerForm.submitted)
          "
          class="text-red-500 text-xs mt-1"
        >
          <div *ngIf="clientPassword.errors?.['required']">
            Password is required.
          </div>
          <div *ngIf="clientPassword.errors?.['minlength']">
            Password must be at least 8 characters long.
          </div>
          <div *ngIf="clientPassword.errors?.['maxlength']">
            Password cannot exceed 50 characters.
          </div>
          <div *ngIf="clientPassword.errors?.['pattern']">
            Password must contain at least one uppercase letter, one lowercase
            letter, one number, one special character, and be between 8 to 50
            characters long.
          </div>
        </div>
      </div>
      <div class="mb-4">
        <label class="block text-white text-sm mb-2" for="mobileNumber"
          >Mobile Number</label
        >
        <input
          class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
          id="mobileNumber"
          type="tel"
          placeholder="Enter your mobile number"
          [(ngModel)]="registerFormDto.ClientMobileNumber"
          name="ClientMobileNumber"
          #clientMobileNumber="ngModel"
          required
          pattern="[0-9]{10}"
        />
        <div
          *ngIf="
            clientMobileNumber.invalid &&
            (clientMobileNumber.dirty ||
              clientMobileNumber.touched ||
              registerForm.submitted)
          "
          class="text-red-500 text-xs mt-1"
        >
          <div *ngIf="clientMobileNumber.errors?.['required']">
            Mobile number is required.
          </div>
          <div *ngIf="clientMobileNumber.errors?.['pattern']">
            Enter a valid 10-digit mobile number.
          </div>
        </div>
      </div>
      <div class="mb-4">
        <label class="block text-white text-sm mb-2" for="roleId"
          >Role ID</label
        >
        <select
          class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-400 leading-tight focus:outline-none focus:shadow-outline"
          id="roleId"
          [(ngModel)]="registerFormDto.RoleId"
          name="RoleId"
          #roleId="ngModel"
          required
        >
          <option value="" disabled [ngValue]="null">Select your role</option>
          <option value="1">SuperAdmin</option>
          <option value="2">Admin</option>
        </select>
        <div
          *ngIf="
            roleId.invalid &&
            (roleId.dirty || roleId.touched || registerForm.submitted)
          "
          class="text-red-500 text-xs mt-1"
        >
          <div *ngIf="roleId.errors?.['required']">Role ID is required.</div>
        </div>
      </div>
      <div class="flex items-center justify-between">
        <button
          class="bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline"
          type="submit"
        >
          Register
        </button>
        <button
          class="bg-red-500 hover:bg-red-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline"
          type="button"
          (click)="navigateToLogin()"
        >
          Back
        </button>
      </div>
    </form>
    <app-loader *ngIf="isLoading"></app-loader>
  </div>
</div>
